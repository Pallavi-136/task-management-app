{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Upadhyay/Desktop/task%20manager%20system/frontend/app/alltasks/page.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { FaEdit, FaTrash } from \"react-icons/fa\";\r\nimport Header from \".../components/Header\";\r\n\r\nexport default function AllTasksPage() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/alltasks\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const data = await res.json();\r\n      setTasks(data);\r\n    } catch {\r\n      console.error(\"Cannot reach backend\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const markDone = async (id) => {\r\n    await fetch(`http://localhost:5000/api/alltasks/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\", Authorization: `Bearer ${token}` },\r\n      body: JSON.stringify({ pending: false }),\r\n    });\r\n    window.location.href = \"/dashboard\"; // Redirect after marking complete\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    await fetch(`http://localhost:5000/api/alltasks/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    window.location.href = \"/dashboard\"; // Redirect after delete\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen p-6 bg-sky-200\">\r\n      <Header />\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-2xl font-bold\">All Tasks</h2>\r\n        <button\r\n          className=\"btn-green\"\r\n          onClick={() => window.location.href = \"/create\"}\r\n        >\r\n          + Create\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {tasks.length === 0 && <p>No tasks yet.</p>}\r\n        {tasks.map(task => (\r\n          <div key={task._id} className=\"task-card\">\r\n            <div className=\"flex flex-col gap-2\">\r\n              <h3 className=\"font-bold\">{task.title}</h3>\r\n              <p className=\"text-gray-600\">{task.description}</p>\r\n              <p className={task.pending ? \"text-red-600\" : \"text-green-600\"}>\r\n                {task.pending ? \"Pending\" : \"Completed\"}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              {task.pending && (\r\n                <button onClick={() => markDone(task._id)} className=\"btn-green\">\r\n                  Done\r\n                </button>\r\n              )}\r\n              <button onClick={() => window.prompt(\"Edit Task\", task.title)} className=\"text-blue-600\">\r\n                <FaEdit />\r\n              </button>\r\n              <button onClick={() => deleteTask(task._id)} className=\"text-red-600\">\r\n                <FaTrash />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;;;;AAFA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACrC,MAAM,QAAQ,aAAa,OAAO,CAAC;IAEnC,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,sCAAsC;gBAC5D,SAAS;oBAAE,eAAe,AAAC,UAAe,OAAN;gBAAQ;YAC9C;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,SAAS;QACX,EAAE,UAAM;YACN,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,MAAM,WAAW,OAAO;QACtB,MAAM,MAAM,AAAC,sCAAwC,OAAH,KAAM;YACtD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;gBAAoB,eAAe,AAAC,UAAe,OAAN;YAAQ;YAChF,MAAM,KAAK,SAAS,CAAC;gBAAE,SAAS;YAAM;QACxC;QACA,OAAO,QAAQ,CAAC,IAAI,GAAG,cAAc,kCAAkC;IACzE;IAEA,MAAM,aAAa,OAAO;QACxB,MAAM,MAAM,AAAC,sCAAwC,OAAH,KAAM;YACtD,QAAQ;YACR,SAAS;gBAAE,eAAe,AAAC,UAAe,OAAN;YAAQ;QAC9C;QACA,OAAO,QAAQ,CAAC,IAAI,GAAG,cAAc,wBAAwB;IAC/D;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;;;;0BACD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;kCACvC;;;;;;;;;;;;0BAKH,6LAAC;gBAAI,WAAU;;oBACZ,MAAM,MAAM,KAAK,mBAAK,6LAAC;kCAAE;;;;;;oBACzB,MAAM,GAAG,CAAC,CAAA,qBACT,6LAAC;4BAAmB,WAAU;;8CAC5B,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAG,WAAU;sDAAa,KAAK,KAAK;;;;;;sDACrC,6LAAC;4CAAE,WAAU;sDAAiB,KAAK,WAAW;;;;;;sDAC9C,6LAAC;4CAAE,WAAW,KAAK,OAAO,GAAG,iBAAiB;sDAC3C,KAAK,OAAO,GAAG,YAAY;;;;;;;;;;;;8CAGhC,6LAAC;oCAAI,WAAU;;wCACZ,KAAK,OAAO,kBACX,6LAAC;4CAAO,SAAS,IAAM,SAAS,KAAK,GAAG;4CAAG,WAAU;sDAAY;;;;;;sDAInE,6LAAC;4CAAO,SAAS,IAAM,OAAO,MAAM,CAAC,aAAa,KAAK,KAAK;4CAAG,WAAU;sDACvE,cAAA,6LAAC,2JAAM;;;;;;;;;;sDAET,6LAAC;4CAAO,SAAS,IAAM,WAAW,KAAK,GAAG;4CAAG,WAAU;sDACrD,cAAA,6LAAC,4JAAO;;;;;;;;;;;;;;;;;2BAlBJ,KAAK,GAAG;;;;;;;;;;;;;;;;;AA0B5B;GA/EwB;KAAA","debugId":null}}]
}