{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Upadhyay/Desktop/task%20manager%20system/frontend/app/config.js"],"sourcesContent":["\r\nconst API_URL = \"http://localhost:5000\"; \r\nexport default API_URL;\r\n\r\n"],"names":[],"mappings":";;;;AACA,MAAM,UAAU;uCACD","debugId":null}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Upadhyay/Desktop/task%20manager%20system/frontend/app/dashboard/page.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport API_URL from \"../config\";\r\nimport { PieChart, Pie, Cell, Tooltip, Legend } from \"recharts\";\r\n\r\nexport default function DashboardPage() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/tasks`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) return setMsg(data.error || \"Failed to fetch tasks\");\r\n      setTasks(data);\r\n    } catch {\r\n      setMsg(\"Cannot reach backend.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!token) return (window.location.href = \"/login\");\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const completedTasks = tasks.filter(t => t.status === \"Completed\");\r\n  const pendingTasks = tasks.filter(t => t.status !== \"Completed\");\r\n\r\n  const chartData = [\r\n    { name: \"Completed\", value: completedTasks.length },\r\n    { name: \"Pending\", value: pendingTasks.length },\r\n  ];\r\n  const COLORS = [\"#22c55e\", \"#f59e0b\"]; // green / amber\r\n\r\n  return (\r\n    <div className=\"tasks-background py-8 flex flex-col items-center min-h-screen space-y-8\">\r\n      <h1 className=\"text-3xl font-bold text-center text-blue-700\">Dashboard</h1>\r\n      {msg && <p className=\"text-red-600\">{msg}</p>}\r\n\r\n      <div className=\"card p-6 flex flex-col items-center md:flex-row gap-8 w-full max-w-5xl\">\r\n        {/* Pie Chart */}\r\n        <div className=\"flex justify-center\">\r\n          <PieChart width={320} height={320}>\r\n            <Pie\r\n              data={chartData}\r\n              dataKey=\"value\"\r\n              nameKey=\"name\"\r\n              cx=\"50%\"\r\n              cy=\"50%\"\r\n              outerRadius={120}\r\n              label\r\n              isAnimationActive={true}\r\n            >\r\n              {chartData.map((entry, idx) => (\r\n                <Cell key={`cell-${idx}`} fill={COLORS[idx % COLORS.length]} />\r\n              ))}\r\n            </Pie>\r\n            <Tooltip />\r\n            <Legend />\r\n          </PieChart>\r\n        </div>\r\n\r\n        {/* Tasks List */}\r\n        <div className=\"flex flex-col md:flex-row gap-6 w-full\">\r\n          {/* Completed Tasks */}\r\n          <div className=\"flex-1\">\r\n            <h2 className=\"text-xl font-semibold text-center text-green-600 mb-2\">Completed</h2>\r\n            {completedTasks.length === 0 ? (\r\n              <p className=\"text-center text-gray-600\">No completed tasks</p>\r\n            ) : (\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                {completedTasks.map((t) => (\r\n                  <li key={t._id}>{t.title}</li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n\r\n          {/* Pending Tasks */}\r\n          <div className=\"flex-1\">\r\n            <h2 className=\"text-xl font-semibold text-center text-amber-600 mb-2\">Pending</h2>\r\n            {pendingTasks.length === 0 ? (\r\n              <p className=\"text-center text-gray-600\">No pending tasks</p>\r\n            ) : (\r\n              <ul className=\"list-disc list-inside space-y-1\">\r\n                {pendingTasks.map((t) => (\r\n                  <li key={t._id}>{t.title}</li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Go to Tasks Button */}\r\n      <a\r\n        href=\"/alltasks\"\r\n        className=\"btn-primary px-6 py-2 rounded-lg shadow-md hover:scale-105 transition\"\r\n      >\r\n        Go to Your Tasks\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACrC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,yKAAQ,EAAC;IAE/B,MAAM,QAAQ,uCAAgC,aAAa,OAAO,CAAC,WAAW;IAE9E,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,AAAC,GAAU,OAAR,2HAAO,EAAC,eAAa;gBAC9C,SAAS;oBAAE,eAAe,AAAC,UAAe,OAAN;gBAAQ;YAC9C;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,OAAO,KAAK,KAAK,IAAI;YACzC,SAAS;QACX,EAAE,UAAM;YACN,OAAO;QACT;IACF;IAEA,IAAA,0KAAS;mCAAC;YACR,IAAI,CAAC,OAAO,OAAQ,OAAO,QAAQ,CAAC,IAAI,GAAG;YAC3C;QACF;kCAAG,EAAE;IAEL,MAAM,iBAAiB,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACtD,MAAM,eAAe,MAAM,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IAEpD,MAAM,YAAY;QAChB;YAAE,MAAM;YAAa,OAAO,eAAe,MAAM;QAAC;QAClD;YAAE,MAAM;YAAW,OAAO,aAAa,MAAM;QAAC;KAC/C;IACD,MAAM,SAAS;QAAC;QAAW;KAAU,EAAE,gBAAgB;IAEvD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA+C;;;;;;YAC5D,qBAAO,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;0BAErC,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,mKAAQ;4BAAC,OAAO;4BAAK,QAAQ;;8CAC5B,6LAAC,yJAAG;oCACF,MAAM;oCACN,SAAQ;oCACR,SAAQ;oCACR,IAAG;oCACH,IAAG;oCACH,aAAa;oCACb,KAAK;oCACL,mBAAmB;8CAElB,UAAU,GAAG,CAAC,CAAC,OAAO,oBACrB,6LAAC,+JAAI;4CAAqB,MAAM,MAAM,CAAC,MAAM,OAAO,MAAM,CAAC;2CAAhD,AAAC,QAAW,OAAJ;;;;;;;;;;8CAGvB,6LAAC,qKAAO;;;;;8CACR,6LAAC,mKAAM;;;;;;;;;;;;;;;;kCAKX,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAwD;;;;;;oCACrE,eAAe,MAAM,KAAK,kBACzB,6LAAC;wCAAE,WAAU;kDAA4B;;;;;6DAEzC,6LAAC;wCAAG,WAAU;kDACX,eAAe,GAAG,CAAC,CAAC,kBACnB,6LAAC;0DAAgB,EAAE,KAAK;+CAAf,EAAE,GAAG;;;;;;;;;;;;;;;;0CAOtB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAwD;;;;;;oCACrE,aAAa,MAAM,KAAK,kBACvB,6LAAC;wCAAE,WAAU;kDAA4B;;;;;6DAEzC,6LAAC;wCAAG,WAAU;kDACX,aAAa,GAAG,CAAC,CAAC,kBACjB,6LAAC;0DAAgB,EAAE,KAAK;+CAAf,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS1B,6LAAC;gBACC,MAAK;gBACL,WAAU;0BACX;;;;;;;;;;;;AAKP;GAtGwB;KAAA","debugId":null}}]
}